const char sIndexPage[] PROGMEM = R"=====(
<!DOCTYPE HTML>
<html>
<head>
  <title>Eth Switch</title>
</head>
<body>
    <h1>Eth Switch</h1>
    
    <p style="text-align:center;">
    

  <table style="border: 1px solid #000000;">
    <tr>
      <td align=center height="50" width="20"><input id="BTN1" type="checkbox" disabled></td>
      <td id="LED1" width="5"> </td>
      <td width="80"></td>
      <td id="LED4" width="5"> </td>
      <td align=center width="20"><input id="BTN4" type="checkbox" disabled></td>
    </tr>
    <tr>
      <td align=center height="50"><input id="BTN2" type="checkbox" disabled></td>
      <td id="LED2"> </td>
      <td></td>
      <td id="LED5"> </td>
      <td align=center><input id="BTN5" type="checkbox" disabled></td>
    </tr>
    <tr>
      <td align=center height="50"><input id="BTN3" type="checkbox" disabled></td>
      <td id="LED3"> </td>
      <td></td>
      <td id="LED6"> </td>
      <td align=center><input id="BTN6" type="checkbox" disabled></td>
    </tr>
  </table>

  <br><br>

  <button onclick="window.location.href='./update';">OTA Update</button>
  <button onclick="window.location.href='./config';">Config</button>
  <button onclick="DoIt()">DoIt</button>

<script>
if (!!window.EventSource) {
  var source = new EventSource('/events');

  source.addEventListener('Buttons', function(e) {
     UpdateButtons(e.data);
  }, false);
  
  source.addEventListener('Leds', function(e) {
     UpdateLeds(e.data);
  }, false);

}

function DoIt()
{
  UpdateLeds("{\"LED\":[1,0,1,0,1,1]}");
}

function UpdateButtons(BtnJson)
{
  let obj = JSON.parse(BtnJson);
  for (let i in obj.BTN)
  {
    no = parseInt(i) + 1;
    id = "BTN" + no;
    console.log(id);
    console.log(obj.BTN[i]);
    if( parseInt(obj.BTN[i]) != 0 )
      document.getElementById(id).checked = true;
    else
      document.getElementById(id).checked = false;

  } 
}

function UpdateLeds(LedJson)
{
  let obj = JSON.parse(LedJson);
  for (let i in obj.LED)
  {
    no = parseInt(i) + 1;
    id = "LED" + no;
    console.log(id);
    console.log(obj.LED[i]);
    if( parseInt(obj.LED[i]) != 0 )
      document.getElementById(id).style.backgroundColor = 'red';
    else
      document.getElementById(id).style.backgroundColor = 'transparent';

  } 
}
</script>
</body>
</html>
)=====";